<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>parteB</title>
    <script>
        var result = "";

        function myFunction() {

            var person = prompt("Por favor introduza su:\n -nombre\n -DIA de nacimiento\n -MES de nacimiento\n -AÑO de nacimiento\n Siguiendo este formato", "Nombre Apellido 12-03-1994");

            if (person != null) {

                var arrayDeCadenas = person.split(" ");
                var nombre = '';
                var fecha = '';
                let iterations = arrayDeCadenas.length;

                // Incluimos nombres compuestos y recogemos fecha
                for (i = 0; i < arrayDeCadenas.length; i++) {
                    // si es ultima iteraccion es fecha
                    if (!--iterations) {
                        fecha = arrayDeCadenas[i];
                    } else {
                        nombre += arrayDeCadenas[i] + " ";
                    }
                }

                //Objeto String
                result = objectString(nombre, result);

                // Objeto Date
                result = objectDate(fecha, result);

                //Objeto Math
                result = objectMath(result);


                document.getElementById("demo").innerHTML = result;

            }
        }

        //Objeto String
        objectString = (nombre, result) => {
            result = "Buenos Dias <b>" + nombre + " </b>.</br>";
            result += "Tu nombre '<b>" + nombre + "'</b> tiene <b>" + nombre.length + " </b>caracteres incluidos espacios. </br>"

            var aux = nombre.indexOf("A");
            var indice = nombre.lastIndexOf("A");
            if (aux != -1) {
                result += " La primera A de tu nombre esta en la posicion " + (nombre.indexOf("A") + 1) + ". </br>";

                if (indice != -1 && indice != aux) {
                    result += "La última A de tu nombre esta en la posicion " + (nombre.lastIndexOf("A") + 1) + ". </br>";
                } else {
                    result += "No hay mas A en tu nombre. </br>";
                }

            } else {
                result += "No hay ninguna A en tu nombre. </br>";
            }

            result += "Tu nombre sin las tres primeras letras es: <b>" + nombre.substr(3) + "</b>.</br>";

            result += "Tu nombre todo en mayusculas es: <b>" + nombre.toUpperCase() + "</b>.</br>";

            return result;
        }
        //** Objeto String **


        // Objeto Date
        objectDate = (fecha, result) => {
            var arrayDeCadenas = fecha.split("-");
            var dia = arrayDeCadenas[0], mes = arrayDeCadenas[1], anyo = arrayDeCadenas[2];

            var usuario = new Date(anyo, mes, dia), hoy = Date.now();
            var edad = (hoy - usuario) / 31557600000;

            result += "</br> Tu edad es: <b>" + Math.trunc(edad) + " años.</b></br>";

            result += "Naciste un feliz: <b>" + dia + " del " + mes + " del " + anyo + ".</b></br>";

            return result;
        }
        // ** Objeto Date **


        //Objeto Math
        objectMath = (result) => {
            result += "</br> El coseno de 180 es: <b> " + Math.cos((Math.PI / 180) * 180) + "</b></br>";

            result += "Ejemplo de numero al azar <b>" + Math.floor(Math.random() * (100 - 1)) + "</b>";

            return result;
        }

    </script>
</head>

<body>
    <h2 style="text-align: center;"> DWEC01_Tarea2 ParteB </h2>
    <h3 style="text-align: center;"> - Diego Hormilleja - </h3>

    <p style="text-align: center;">Pulsa el boton para que se muestre el Prompt</p>


    <div style="
      position: relative;
     ">
        <div style="  margin: 0;
        position: absolute;
        top: 50%;
        left: 50%;
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);">
            <button onclick="myFunction()" style="float: center;">Pulsame</button>

        </div>
    </div>

    <p style="padding-top: 20px" id="demo"></p>

</body>

</html>